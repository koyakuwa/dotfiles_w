# 先週のAI一覧
* PX4 のシミュレータ環境のバッテリーモデルの改善
    + 機体の制御履歴を反映させた電流消費モデルを構築する
* 最小コスト軌道生成プログラムの構築

# PX4 のシミュレータ環境のバッテリーモデルの改善
## 機体の制御履歴を反映させた電流消費モデルの構築
機体の制御履歴から、消費電力を算出するプログラムを作成した。
以下の式でスロットル値から電流を算出した。

$$ i(t) = \frac{W\{T(t)\}}{V(t)}$$
$$ W\{T(t)\} = -0.00197318~T(t)^3 + 0.438057~T(t)^2 - 27.3299~T(t) + 574.627  $$

Fig 1 に $W\{T(t)\}$ のプロットを示す。

![すとああ](thro-cur.png)

スロットル値に対する消費電力値はT-motor U3 のカタログ値をを基にした近似曲線である。
ここで電圧値は、簡略化のために満充電時の電圧値から減少しない一定値とした。
$$ V(t) = 16.8~[\rm{V}]$$

Fig 2と3に電流値および充電率のシミュレーション結果を示す。

![Time history of the current](cur.png)
![Time history of the SOC](soc.png)

## 電池モデルの導入
従来、電池または電圧のどちらか一方の消費モデルを構成することで、
バッテリー残量を構成していた。
そこで、ここでは、モデルに基づくSOC推定法において利用していた
電池の


# 今週のAI計画
* PX4 のシミュテータ環境のバッテリーモデルの改善
    + 機体の制御履歴を反映させた電流消費モデルを構築する
* 最小コスト軌道生成プログラムの構築
<!-- * 対数化UKFを用いた推定法のパラメータ推定精度の改善 -->
